# State for 2026-01-09

- Working: devcontainer workspace mount now targets `${localEnv:WORKSPACE_FOLDER}` (matches `workspaceFolder`).
- Working: SSH agent forwarding now uses a stable `/ssh-agent` socket path (bind-mount + `SSH_AUTH_SOCK=/ssh-agent`).
- Working: VS Code terminal profile settings moved under `customizations.vscode.settings` so they apply correctly.
- Working: devcontainer now stops the container on window close via `"shutdownAction": "stopContainer"`.
- Working: `verify-git-ssh.sh` no longer defaults to GitHub; it requires a git host via arg or `GIT_SSH_HOST`.
- Working: `validate-env.sh` fails fast if `SSH_AUTH_SOCK` is missing/invalid on the host.
- Working: `post-create.sh` now runs env validation, adds a bashrc guard for VS Code shell integration, and uses safer Claude install logic.
- Working: `bash-prompt.sh` disables nounset (`set +u`) to avoid VS Code shell integration issues in interactive shells.
- Working: `.devcontainer/Dockerfile` now requires explicit pinned versions for `ansible-core`, `ansible-lint`, and `yamllint` (no implicit "latest" behavior).
- Working: `.devcontainer/devcontainer.json` no longer passes `--env-file` and no longer uses `initializeCommand`; required vars are supplied via `containerEnv` + in-container `.env` loading.
- Working: `.devcontainer/devcontainer.json` now includes the VS Code `anthropic.claude-code` extension (kept existing extensions).
- Working: `.devcontainer/scripts/validate-env.sh` now validates `CLAUDE_INSTALL_SHA256` when set.
- Working: `.devcontainer/scripts/post-create.sh` now runs with `set -eu` and fails if env validation is unavailable.
- Working: `.devcontainer/scripts/env-loader.sh` now fails if `.env` is missing, preserves a valid `SSH_AUTH_SOCK`, and supports safer debug output.
- Working: `.devcontainer/config/starship.toml` now displays `CONTAINER_HOSTNAME` in the prompt when set.
- Working: Added ADR-0010 documenting the optional Claude Code devcontainer workflow and fixed the Traefik ADR numbering (now ADR-0009).
- Working: Moved the daily journal from `lm/` to `documentation/diary/` and updated documentation references.
- Working: Resolved `yamllint` line-length issues in `src/inventory/host_vars/rpi_box.example.yml` and `src/roles/deployment_verify/tasks/main.yml`.
