# Devcontainer configuration (.env.example)
#
# Copy to `.env` and edit values for your machine:
#   cp .env.example .env
#
# Keep `.env` out of version control (it often contains host-specific paths and secrets).

# User Configuration
# ==================
HOST_USERNAME=your_username
HOST_UID=1000
HOST_GID=1000

# Project identity
# =================
PROJECT_NAME=devcontainers-rpi-box
EDITOR_CHOICE=code
LOCALE=en_IE.UTF-8

# Container Configuration
# =======================
WORKSPACE_FOLDER=/workspace
CONTAINER_HOSTNAME=${PROJECT_NAME}-${EDITOR_CHOICE}
CONTAINER_MEMORY=6g
CONTAINER_CPUS=4
CONTAINER_SHM_SIZE=4g

# Git Configuration
# ================
GIT_USER_NAME="Your Name"
GIT_USER_EMAIL="you@example.com"
GIT_REMOTE_URL=

# Git SSH host used by verify-git-ssh.sh (optional; defaults to git@github.com)
GIT_SSH_HOST=git@github.com

# Git sync configuration (sync-git.sh)
GIT_SYNC_REMOTES="origin"
GIT_SYNC_PUSH_REMOTES=""
BRANCH=
# Optional: per-remote URLs used when a remote name in GIT_SYNC_REMOTES is missing.
GIT_REMOTE_URL_ORIGIN=
GIT_REMOTE_URL_LAN=

# Docker Configuration
# ====================
DOCKER_IMAGE_NAME=${PROJECT_NAME}-${EDITOR_CHOICE}
DOCKER_IMAGE_TAG=latest

# Launcher/Workspace helpers (optional)
# =====================================
DEVCONTAINER_CONTEXT=devcontainer
FORCE_REBUILD=false
FORCE_PULL=false
KEEP_CONTAINER_EDITOR=false
KEEP_CONTAINER_DEVCONTAINER=false
KEEP_CONTAINER_CLAUDE=false
WORKSPACE_TMUX_SESSION=${PROJECT_NAME}
WORKSPACE_REMOTE_HOST=
WORKSPACE_ALLOW_IN_CONTAINER=false

# Maintenance
# ===========
DEVCONTAINER_IMAGE_RETENTION_DAYS=7

# Ansible (SSH to Raspberry Pi)
# =============================
ANSIBLE_USER=pi
ANSIBLE_SSH_PRIVATE_KEY_FILE=~/.ssh/id_ed25519
ANSIBLE_CONFIG=${WORKSPACE_FOLDER}/src/ansible.cfg
ANSIBLE_INVENTORY=${WORKSPACE_FOLDER}/src/inventory/hosts.ini
ANSIBLE_COLLECTIONS_PATH=${WORKSPACE_FOLDER}/src/collections:/home/${HOST_USERNAME}/.ansible/collections
ANSIBLE_ROLES_PATH=${WORKSPACE_FOLDER}/src/roles

# Optional defaults used by helper scripts
SMOKE_PLAYBOOK=${WORKSPACE_FOLDER}/src/playbooks/sample.yml
SMOKE_INVENTORY=${WORKSPACE_FOLDER}/src/inventory/hosts.ini
SMOKE_GROUP=

# Role / host_vars env lookups (optional; project-specific)
# ========================================================
# Keep secrets empty in `.env.example` and fill them only in your local `.env`.

# PI base admin user and public key path (used to provision SSH access)
PI_BASE_ADMIN_USER=
PI_BASE_ADMIN_SSH_PUBLIC_KEY_FILE=
PI_BASE_ALLOW_PASSWORDLESS_SUDO=false
PI_BASE_DISABLE_RESOLVED_STUB=true
PI_BASE_RESOLV_CONF_TARGET=/run/systemd/resolve/resolv.conf

# Daily report email settings (msmtp)
DAILY_REPORT_EMAIL=
DAILY_REPORT_SENDER=
DAILY_REPORT_SMTP_HOST=
DAILY_REPORT_SMTP_PORT=587
DAILY_REPORT_SMTP_USER=
DAILY_REPORT_SMTP_PASSWORD=
DAILY_REPORT_USER=
DAILY_REPORT_SCRIPT_PATH=/usr/local/bin/daily-report.sh
DAILY_REPORT_SERVICE_NAME=daily-report
DAILY_REPORT_MSMTP_LOG_PATH=/var/log/msmtp/msmtp.log

# fail2ban defaults
FAIL2BAN_BASE_BANTIME=1h
FAIL2BAN_BASE_FINDTIME=10m
FAIL2BAN_BASE_MAXRETRY=5
FAIL2BAN_BASE_IGNOREIP="127.0.0.1/8 ::1"
FAIL2BAN_BASE_BACKEND=systemd

# time sync defaults
TIME_SYNC_NTP_SERVERS="pool.ntp.org"
TIME_SYNC_FALLBACK_SERVERS="time.cloudflare.com"

# log hygiene defaults
LOG_HYGIENE_JOURNALD_MAX_USE=200M
LOG_HYGIENE_JOURNALD_KEEP_FREE=100M
LOG_HYGIENE_JOURNALD_MAX_FILE_SEC=1month
LOG_HYGIENE_LOGROTATE_ROTATE=7
LOG_HYGIENE_LOGROTATE_FREQUENCY=weekly

# node exporter defaults
NODE_EXPORTER_LISTEN_ADDRESS="127.0.0.1:9100"

# storage layout defaults (JSON string)
STORAGE_LAYOUT_DIRECTORIES='[]'

# docker engine defaults
DOCKER_ENGINE_DATA_ROOT=/srv/docker
DOCKER_ENGINE_LOG_MAX_SIZE=10m
DOCKER_ENGINE_LOG_MAX_FILE=3
DOCKER_ENGINE_USERS=
DOCKER_ENGINE_APT_RELEASE=jammy
DOCKER_ENGINE_VERSION=
DOCKER_ENGINE_COMPOSE_VERSION=

# docker prune defaults
DOCKER_PRUNE_SCHEDULE=weekly
DOCKER_PRUNE_COMMAND="/usr/bin/docker system prune --all --force"
DOCKER_PRUNE_SERVICE_NAME=docker-prune

# common tools packages
COMMON_TOOLS_PACKAGES=

# backup configuration (Restic)
BACKUP_RESTIC_REPO=
BACKUP_RESTIC_SRC=
BACKUP_RESTIC_PASSWORD=
BACKUP_RESTIC_RETENTION_DAYS=7
BACKUP_RESTIC_RETENTION_WEEKS=4
BACKUP_RESTIC_RETENTION_MONTHS=6
BACKUP_RESTIC_TIMER_SCHEDULE=daily

# Tooling versions (used by the devcontainer build)
# =================================================
ANSIBLE_CORE_VERSION=2.17.*
ANSIBLE_LINT_VERSION=25.12.1
YAMLLINT_VERSION=1.35.*

# Claude Code (build-time opt-in)
# ===============================
INSTALL_CLAUDE=false
CLAUDE_INSTALL_SHA256=

# Codex / OpenAI (optional; keep secret values out of `.env.example`)
OPENAI_API_KEY=
